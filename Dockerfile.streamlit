FROM python:3.11-slim

WORKDIR /app

# Installer les d√©pendances de base
RUN pip install --no-cache-dir \
    streamlit==1.28.1 \
    influxdb-client==1.38.0 \
    pandas==2.1.3

# Copier le fichier de l'application
COPY streamlit_dashboard.py .

# Exposer le port
EXPOSE 8501

# Configuration Streamlit
ENV STREAMLIT_SERVER_PORT=8501
ENV STREAMLIT_SERVER_ADDRESS=0.0.0.0
ENV STREAMLIT_SERVER_HEADLESS=true

# Lancer Streamlit
CMD ["streamlit", "run", "streamlit_dashboard.py"]
